"use strict";(()=>{var e={};e.id=324,e.ids=[324],e.modules={361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},2015:e=>{e.exports=require("react")},2326:e=>{e.exports=require("react-dom")},2893:e=>{e.exports=import("react-hot-toast")},3180:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(8732),r=s(2015);function l({isLive:e=!1}){let[t,s]=(0,r.useState)(null),[l,i]=(0,r.useState)(null),[d,c]=(0,r.useState)(null),[n,o]=(0,r.useState)(0);return l?(0,a.jsx)("div",{className:"relative w-full aspect-video bg-gray-900 rounded-lg overflow-hidden flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-white text-center p-4",children:[(0,a.jsx)("p",{className:"text-red-500 mb-2",children:"Error loading video player"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:l})]})}):e&&!t?(0,a.jsx)("div",{className:"relative w-full aspect-video bg-gray-900 rounded-lg overflow-hidden flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-white text-center p-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-[#90651b] border-t-transparent rounded-full animate-spin mb-4"}),(0,a.jsx)("p",{children:"Checking for live stream..."})]})}):e?(0,a.jsxs)("div",{className:"relative w-full aspect-video bg-black rounded-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute top-4 left-4 z-10 flex items-center bg-red-600 text-white px-3 py-1 rounded-full",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"LIVE"})]}),(0,a.jsx)("iframe",{src:`https://www.youtube.com/embed/${t}?autoplay=1&modestbranding=1&rel=0&showinfo=0&controls=1`,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,frameBorder:"0"})]}):(0,a.jsx)("div",{className:"relative w-full aspect-video bg-gray-900 rounded-lg overflow-hidden flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-white text-center p-4",children:[(0,a.jsx)("p",{className:"text-xl mb-2",children:"Click Start Stream to Begin"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Join us for our live stream"})]})})}},3873:e=>{e.exports=require("path")},4075:e=>{e.exports=require("zlib")},4347:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var a=s(8732),r=s(2015),l=s(6805),i=s(2249),d=s(9788),c=s.n(d),n=s(3180);function o(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),[i,d]=(0,r.useState)(null);return s?(0,a.jsxs)("div",{className:"mt-32",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Recent Broadcasts"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),(0,a.jsx)("div",{className:"h-10 bg-gray-200 rounded"})]},e))})]}):i?(0,a.jsxs)("div",{className:"mt-32",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Recent Broadcasts"}),(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-red-600",children:"Failed to load recent broadcasts"}),(0,a.jsx)("p",{className:"text-sm text-red-500 mt-1",children:i})]})]}):0===e.length?(0,a.jsxs)("div",{className:"mt-32",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Recent Broadcasts"}),(0,a.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,a.jsx)("p",{className:"text-gray-600",children:"No recent broadcasts available"})})]}):(0,a.jsxs)("div",{className:"mt-32",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Recent Broadcasts"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,a.jsxs)("div",{className:"aspect-video relative",children:[(0,a.jsx)("img",{src:e.snippet.thumbnails.high.url,alt:e.snippet.title,className:"w-full h-full object-cover"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:(0,a.jsx)("p",{className:"text-white text-sm",children:new Date(e.snippet.publishedAt).toLocaleDateString()})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2 line-clamp-2",children:e.snippet.title}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.snippet.description}),(0,a.jsx)("button",{onClick:()=>window.open(`https://www.youtube.com/watch?v=${e.id.videoId}`,"_blank"),className:"w-full bg-[#90651b] hover:bg-[#a67a2a] text-white px-4 py-2 rounded-md transition-colors",children:"Watch Recording"})]})]},e.id.videoId))})]})}var m=s(7931);function x(){let[e,t]=(0,r.useState)(!1),s=process.env.NEXT_PUBLIC_DEFAULT_VIDEO_ID,d=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),t(e=>!e)},[]);return(0,a.jsxs)("div",{className:"min-h-screen bg-white relative",children:[(0,a.jsx)(m.A,{}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)(c(),{children:[(0,a.jsx)("title",{children:`${e?"Live Stream":"Video Broadcast"} | EGFM USA`}),(0,a.jsx)("meta",{name:"description",content:"Watch EGFM USA's live video broadcasts and recorded services"})]}),(0,a.jsxs)("div",{className:"relative min-h-[40vh] bg-gradient-to-b from-gray-900 to-black",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[url('/images/hero-bg.svg')] bg-cover bg-center opacity-20"}),(0,a.jsx)(l.A,{}),(0,a.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 pt-40 md:pt-48 pb-12",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-white",children:e?"Live Stream":"Video Broadcast"}),(0,a.jsx)("p",{className:"text-lg md:text-xl text-gray-300",children:e?"Watch our live service":"Watch our recorded services and events"})]})})]}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-12",children:[(0,a.jsx)("div",{className:"bg-gray-100 rounded-lg p-8 mb-8",children:(0,a.jsx)("div",{className:"w-full",children:process.env.NEXT_PUBLIC_DEFAULT_VIDEO_ID?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"relative w-full aspect-video",children:(0,a.jsx)(n.A,{videoId:s,isLive:e},`player-${e?"live":"recorded"}`)}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("button",{onClick:d,type:"button",className:`${e?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"} text-white px-6 py-2 rounded-md transition-colors`,children:e?"End Stream":"Start Stream"})})]}):(0,a.jsxs)("div",{className:"text-center p-8",children:[(0,a.jsx)("p",{className:"text-red-500 mb-4",children:"Video configuration is missing"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Please check your environment variables configuration."})]})})}),(0,a.jsx)(o,{})]}),(0,a.jsx)(i.A,{})]})]})}},7910:e=>{e.exports=require("stream")},7931:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(8732);function r({imageUrl:e="/images/logo.png",size:t="90%",opacity:s=.05,scale:r=1.5}){return(0,a.jsx)("div",{className:"fixed inset-0 pointer-events-none z-0",style:{backgroundImage:`url("${e}")`,backgroundSize:t,backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:s,transform:`scale(${r})`}})}s(2015)},8732:e=>{e.exports=require("react/jsx-runtime")},8889:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{config:()=>h,default:()=>m,getServerSideProps:()=>p,getStaticPaths:()=>u,getStaticProps:()=>x,reportWebVitals:()=>g,routeModule:()=>w,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>f,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>v});var r=s(3885),l=s(237),i=s(1413),d=s(5425),c=s(6047),n=s(4347),o=e([c]);c=(o.then?(await o)():o)[0];let m=(0,i.M)(n,"default"),x=(0,i.M)(n,"getStaticProps"),u=(0,i.M)(n,"getStaticPaths"),p=(0,i.M)(n,"getServerSideProps"),h=(0,i.M)(n,"config"),g=(0,i.M)(n,"reportWebVitals"),v=(0,i.M)(n,"unstable_getStaticProps"),b=(0,i.M)(n,"unstable_getStaticPaths"),j=(0,i.M)(n,"unstable_getStaticParams"),N=(0,i.M)(n,"unstable_getServerProps"),f=(0,i.M)(n,"unstable_getServerSideProps"),w=new r.PagesRouteModule({definition:{kind:l.A.PAGES,page:"/streaming/video",pathname:"/streaming/video",bundlePath:"",filename:""},components:{App:c.default,Document:d.default},userland:n});a()}catch(e){a(e)}})},9021:e=>{e.exports=require("fs")},9825:e=>{e.exports=require("prop-types")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[341,560,995],()=>s(8889));module.exports=a})();