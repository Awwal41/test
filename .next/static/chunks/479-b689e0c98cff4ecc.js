"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[479],{1375:(e,a,t)=>{t.d(a,{A:()=>f});var s=t(7876),o=t(4232),r=t(4587),n=t.n(r),l=t(8230),i=t.n(l),c=t(3679),d=t(9478);let g={"Rev. Kayode Oyegoke":"/images/rev-kayode-oyegoke.jpg","Rev. Helen Oyegoke":"/images/rev-helen-oyegoke.jpg","Pastor Tayo Fasan":"/images/pastor-tayo-fasan.jpg"};function m(e){return e.speakerImage?e.speakerImage:g[e.speaker]?g[e.speaker]:"/images/event-placeholder.jpg"}function u(e){let a=e.split("_");if(3===a.length){let[e,t,s]=a;return new Date(e,t-1,s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}return e}let p=[{id:1,title:"Light of God",speaker:"Rev. Kayode Oyegoke",date:"2024_11_10",duration:"2:45:30",category:"OBED",description:"A powerful message about walking in the light of God's presence and truth.",speakerImage:"/images/rev-kayode-oyegoke.jpg",audioUrl:"https://egfmusa.b-cdn.net/audios/2024_11_10%20-%20SOGAG%20Day%202%20-%20Rev.%20Kayode%20Oyegoke.mp3"},{id:2,title:"Entrance into Everlasting life by beholding the lamb",speaker:"Rev. Helen Oyegoke",date:"2024_11_11",duration:"1:38:15",category:"Converge",description:"Understanding how beholding the Lamb of God transforms us and grants eternal life.",speakerImage:"/images/rev-helen-oyegoke.jpg",audioUrl:"https://egfmusa.b-cdn.net/audios/2025_06_19%20-%20(LUA25%20D3%20AM)%20-%20Entrance%20into%20Everlasting%20Life%20by%20Beholding%20the%20Lamb%20by%20Rev%20Helen%20Oyegoke.mp3"},{id:3,title:"The Race To Becoming A Godly & Everlasting Tree",speaker:"Pastor Tayo Fasan",date:"2024_11_12",duration:"1:42:20",category:"Daystar Arising",description:"Exploring the spiritual journey of growth and maturity in Christ.",speakerImage:"/images/pastor-tayo-fasan.jpg",audioUrl:"https://egfmusa.b-cdn.net/audios/05_09_2025-DSA-The%20Race%20To%20Becoming%20A%20Godly%20%26%20Everlasting%20Tree%20part%205-Pastor%20Tayo%20Fasan.mp3"},{id:4,title:"Obedience to the heavenly calling",speaker:"Pastor Tayo Fasan",date:"2024_11_12",duration:"1:42:20",category:"OBED",description:"Understanding and responding to God's call with faithful obedience.",speakerImage:"/images/pastor-tayo-fasan.jpg",audioUrl:"https://egfmusa.b-cdn.net/audios/05_09_2025-DSA-The%20Race%20To%20Becoming%20A%20Godly%20%26%20Everlasting%20Tree%20part%205-Pastor%20Tayo%20Fasan.mp3"},{id:5,title:"Walking in Divine Light",speaker:"Pastor Tayo Fasan",date:"2024_11_05",duration:"2:10:30",category:"Daystar Arising",description:"Understanding how to walk in God's divine light daily.",speakerImage:"/images/pastor-tayo-fasan.jpg",audioUrl:"https://egfmusa.b-cdn.net/audios/05_09_2025-DSA-The%20Race%20To%20Becoming%20A%20Godly%20%26%20Everlasting%20Tree%20part%205-Pastor%20Tayo%20Fasan.mp3"},{id:6,title:"Healing and Restoration",speaker:"Rev. Helen Oyegoke",date:"2024_10_28",duration:"1:45:20",category:"Healing Light",description:"God's power to heal and restore broken lives.",speakerImage:"/images/rev-helen-oyegoke.jpg",audioUrl:"https://egfmusa.b-cdn.net/audios/2025_06_19%20-%20(LUA25%20D3%20AM)%20-%20Entrance%20into%20Everlasting%20Life%20by%20Beholding%20the%20Lamb%20by%20Rev%20Helen%20Oyegoke.mp3"}];function h(e){return e.replace(/ /g,"%20")}function x(e){return e.audioUrl?e.audioUrl:"Rev. Kayode Oyegoke"===e.speaker?"https://egfmusa.b-cdn.net/audios/2024_11_10%20-%20SOGAG%20Day%202%20-%20Rev.%20Kayode%20Oyegoke.mp3":"Rev. Helen Oyegoke"===e.speaker?"https://egfmusa.b-cdn.net/audios/2025_06_19%20-%20(LUA25%20D3%20AM)%20-%20Entrance%20into%20Everlasting%20Life%20by%20Beholding%20the%20Lamb%20by%20Rev%20Helen%20Oyegoke.mp3":"Pastor Tayo Fasan"===e.speaker?"https://egfmusa.b-cdn.net/audios/05_09_2025-DSA-The%20Race%20To%20Becoming%20A%20Godly%20%26%20Everlasting%20Tree%20part%205-Pastor%20Tayo%20Fasan.mp3":"https://egfmusa.b-cdn.net/audios/".concat(e.date,"-").concat(e.category,"-").concat(h(e.title),"-").concat(h(e.speaker),".mp3")}function f(e){let{category:a,title:t,maxItems:r=3}=e,[l,g]=(0,o.useState)([]),[h,f]=(0,o.useState)(!0),[y,v]=(0,o.useState)(null),[b,j]=(0,o.useState)(!1),w=(0,o.useRef)(null),k=e=>{console.log("Audio clicked:",e.title),v(e)},N=()=>{console.log("Close button clicked"),w.current&&(w.current.pause(),w.current.currentTime=0,j(!1)),v(null)};(0,o.useEffect)(()=>{if(y&&w.current){let e=x(y);console.log("Setting up audio:",e),w.current.src=e,w.current.load();let a=setTimeout(()=>{w.current&&w.current.play().then(()=>{console.log("Audio started playing"),j(!0)}).catch(e=>{console.error("Error playing audio:",e),j(!1)})},500);return()=>clearTimeout(a)}!y&&w.current&&(w.current.pause(),w.current.currentTime=0,j(!1))},[y]),(0,o.useEffect)(()=>{!async function(){f(!0);try{console.log("\uD83D\uDD0D Attempting to fetch audio data..."),console.log("\uD83C\uDF0D Environment:","production");let e=await (0,d.zc)("audio");if(console.log("✅ Successfully fetched audio data:",e),Array.isArray(e.items)&&e.items.length>0)console.log("\uD83D\uDCFB Loaded ".concat(e.items.length," audio messages")),g(e.items);else throw Error("Invalid data format received")}catch(e){console.log("⚠️ Using local audio data as fallback:",e.message),console.log("\uD83D\uDD04 This ensures audio works in both development and production environments"),console.log("\uD83D\uDCC1 Fallback data contains:",p.length,"audio messages"),g(p)}finally{f(!1)}}()},[]);let _=l.filter(e=>{if(!a||"all"===a)return!0;let t=e.category.toLowerCase(),s=a.toLowerCase();return t===s||("weekly"===s?["obed","daystar arising","rooted"].some(e=>t.includes(e)||e.includes(t)):"yearly"===s?["converge","light up america","healing light"].some(e=>t.includes(e)||e.includes(t)):t.includes(s)||s.includes(t))}).sort((e,a)=>a.date.localeCompare(e.date)).slice(0,r);return h?(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(e=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"h-48 bg-gray-200 rounded-lg"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},e))})]})}):0===_.length?null:(0,s.jsxs)(s.Fragment,{children:[y&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:N,children:(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"relative w-full h-64 lg:w-64 lg:h-64 mx-auto lg:mx-0 rounded-2xl overflow-hidden shadow-lg",children:(0,s.jsx)(n(),{src:m(y),alt:y.speaker,fill:!0,className:"object-cover"})})}),(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-start mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:y.title}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-gray-600 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.x$1,{className:"text-[#90651b]"}),(0,s.jsx)("span",{className:"font-medium",children:y.speaker})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.bfZ,{className:"text-[#90651b]"}),(0,s.jsx)("span",{children:u(y.date)})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.w_X,{className:"text-[#90651b]"}),(0,s.jsx)("span",{children:y.duration})]})]}),y.description&&(0,s.jsx)("p",{className:"text-gray-700 mb-6",children:y.description})]}),(0,s.jsxs)("div",{className:"flex gap-3 mt-4 lg:mt-0",children:[(0,s.jsx)("button",{onClick:N,className:"group px-6 py-3 bg-white border-2 border-gray-200 text-gray-700 rounded-xl hover:border-[#90651b] hover:text-[#90651b] transition-all duration-200 font-medium shadow-sm hover:shadow-md",children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4 transition-transform group-hover:-translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Close Player"]})}),(0,s.jsx)("button",{onClick:()=>{console.log("Stop button clicked"),w.current&&(w.current.pause(),w.current.currentTime=0,j(!1)),v(null)},className:"group px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:from-red-600 hover:to-red-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105",children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.wFo,{className:"transition-transform group-hover:scale-110"}),"Stop Audio"]})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("audio",{ref:w,controls:!0,className:"w-full h-12 rounded-lg",onPlay:()=>j(!0),onPause:()=>j(!1),onEnded:()=>{console.log("Audio ended"),j(!1)},onError:e=>{console.error("Audio error:",e.target.error),j(!1)},onLoadStart:()=>{console.log("Audio loading started")},onCanPlay:()=>{console.log("Audio can play")},onLoadedData:()=>{console.log("Audio data loaded")},children:[(0,s.jsx)("source",{src:x(y),type:"audio/mpeg"}),"Your browser does not support the audio element."]}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-2 text-center",children:"If audio doesn't play automatically, please click the play button above."})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-6",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("span",{className:"bg-[#90651b] text-white px-3 py-1 rounded-full text-sm font-medium",children:y.category})}),(0,s.jsxs)(i(),{href:"/resources/audio",className:"text-[#90651b] hover:text-[#7a5518] font-medium flex items-center gap-2",children:["View All Messages",(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})})}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(c.tLl,{className:"text-2xl text-[#90651b]"}),(0,s.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:t||"Recent ".concat(a," Messages")}),!1,l===p&&(0,s.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full font-medium",children:"Local Data"})]}),(0,s.jsxs)(i(),{href:"/resources/audio",className:"text-[#90651b] hover:text-[#7a5518] font-semibold transition-colors duration-200 flex items-center gap-2",children:["View All",(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(e=>(0,s.jsxs)("div",{className:"group bg-gray-50 rounded-lg overflow-hidden hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:()=>k(e),children:[(0,s.jsxs)("div",{className:"relative h-48 overflow-hidden",children:[(0,s.jsx)(n(),{src:m(e),alt:e.speaker,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors duration-300"}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,s.jsx)("div",{className:"bg-white/90 rounded-full p-3 group-hover:bg-[#90651b] group-hover:text-white transition-all duration-300 shadow-lg",children:(0,s.jsx)(c.gSK,{className:"text-lg ml-0.5"})})}),(0,s.jsx)("div",{className:"absolute top-3 left-3",children:(0,s.jsx)("span",{className:"bg-[#90651b] text-white px-2 py-1 rounded-full text-xs font-medium",children:e.category})})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-[#90651b] transition-colors",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.title}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[(0,s.jsx)(c.x$1,{className:"text-[#90651b]"}),(0,s.jsx)("span",{children:e.speaker})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(c.bfZ,{className:"text-[#90651b]"}),(0,s.jsx)("span",{children:u(e.date)})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(c.w_X,{className:"text-[#90651b]"}),(0,s.jsx)("span",{children:e.duration})]})]}),e.description&&(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-2",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.description})]})]},e.id))}),_.length>0&&(0,s.jsx)("div",{className:"text-center mt-8",children:(0,s.jsxs)(i(),{href:"/resources/audio",className:"inline-flex items-center gap-2 bg-[#90651b] text-white px-6 py-3 rounded-lg font-semibold hover:bg-[#7a5518] hover:scale-105 hover:shadow-lg transition-all duration-300 transform",children:[(0,s.jsx)(c.tLl,{}),"Listen to More Messages"]})})]})]})}},7041:(e,a,t)=>{t.d(a,{A:()=>o});var s=t(7876);function o(e){let{id:a,title:t,content:o,bgColor:r="bg-white",textAlign:n="text-left",customClass:l="",padding:i="py-10 md:py-16"}=e;return(0,s.jsx)("section",{id:a,className:" ".concat(r," ").concat(i),children:(0,s.jsxs)("div",{className:"container mx-auto ".concat(l.includes("px-0")?"":"px-4 sm:px-6 lg:px-8"," max-w-7xl ").concat(l),children:[t&&(0,s.jsx)("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold mb-6 leading-tight capitalize ".concat(n),children:t}),"string"==typeof o?(0,s.jsx)("p",{className:"text-base md:text-lg text-gray-600 ".concat(n),children:o}):(0,s.jsx)("div",{className:n,children:o})]})})}},9478:(e,a,t)=>{t.d(a,{wc:()=>u,zc:()=>d,zo:()=>g});var s=t(5364);let o={development:s.env.NEXT_PUBLIC_DEV_API_URL||"http://localhost:3000",production:s.env.NEXT_PUBLIC_PROD_API_URL||"https://egfmusa.org",cdn:s.env.NEXT_PUBLIC_CDN_URL||"https://egfmusa.b-cdn.net"},r=()=>window.location.origin,n={transcripts:{list:"/api/transcripts",create:"/api/transcripts",update:e=>"/api/transcripts/".concat(e),delete:e=>"/api/transcripts/".concat(e),download:e=>"/api/transcripts/".concat(e,"/download"),cdn:"".concat(o.cdn,"/transcripts/transcripts.json"),local:"/data/transcripts.json"},audio:{list:"/api/audio",create:"/api/audio",update:e=>"/api/audio/".concat(e),delete:e=>"/api/audio/".concat(e),cdn:"".concat(o.cdn,"/audios/audios.json"),local:"/data/audios.json"},articles:{list:"/api/articles",create:"/api/articles",update:e=>"/api/articles/".concat(e),delete:e=>"/api/articles/".concat(e),cdn:"".concat(o.cdn,"/articles/articles.json"),local:"/data/articles.json"},gallery:{list:"/api/gallery",create:"/api/gallery",update:e=>"/api/gallery/".concat(e),delete:e=>"/api/gallery/".concat(e),cdn:"".concat(o.cdn,"/gallery/gallery.json"),local:"/data/gallery.json"}},l={timeout:1e4,retries:3,retryDelay:1e3,headers:{"Content-Type":"application/json","Cache-Control":"no-cache"}},i=e=>{let a=n[e];return a?[a.cdn,"".concat(r()).concat(a.list),"".concat(r()).concat(a.local)]:[]},c=async function(e){let a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={...l,...t};for(let o=1;o<=s.retries;o++)try{console.log("Fetch attempt ".concat(o,"/").concat(s.retries," for: ").concat(e));let a=new AbortController,r=setTimeout(()=>a.abort(),s.timeout),n=await fetch(e,{...s,signal:a.signal,headers:{...s.headers,...t.headers||{}}});if(clearTimeout(r),!n.ok)throw Error("HTTP ".concat(n.status,": ").concat(n.statusText));let l=await n.json();return console.log("Successfully fetched data from: ".concat(e)),l}catch(t){a=t,console.warn("Attempt ".concat(o," failed for ").concat(e,":"),t.message),o<s.retries&&(console.log("Retrying in ".concat(s.retryDelay,"ms...")),await new Promise(e=>setTimeout(e,s.retryDelay)))}throw a},d=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=i(e),s=null,o=null,r=Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():"";for(let a of t)try{let e=a+r;s=await c(e);break}catch(t){console.warn("Failed to fetch ".concat(e," from ").concat(a,":"),t.message),o=t;continue}if(!s)throw Error("Failed to fetch ".concat(e," from all sources: ").concat(null==o?void 0:o.message));return s},g=(e,a)=>{if(!e)throw Error("No ".concat(a," data received"));let t=Array.isArray(e)?e:e[a]||e.items||[];if(!Array.isArray(t))throw Error("Invalid ".concat(a," data format: expected array"));return 0===t.length&&console.warn("No ".concat(a," items found")),{items:t,metadata:e.pagination||e.meta||{},filters:e.filters||{},timestamp:e.timestamp||new Date().toISOString()}},m={development:{enableLogging:!0,enableFallbacks:!0,cacheTimeout:0},production:{enableLogging:!1,enableFallbacks:!0,cacheTimeout:3e5}},u=()=>m.production||m.development}}]);